# Домашнее задание 7
## Реализуем базовый бекенд для сайта с курсами.

Цель: У нас есть курс, у которого есть занятия, у курсов есть преподаватели. Есть пользователи,
которые могут зарегистрироваться, залогиниться и записаться на курс. Сайт будет разделен на две
составляющие - backend и frontend. Backend это REST-API на Django, который позволяет:
- зарегистрироваться, можно без капчи и подтверждения email;
- залогиниться;
- посмотреть список курсов;
- зайти внутрь одного курса, где посмотреть его описание и список уроков, прикриплённых к дате;
- дополнительно можно задать возможность записаться на курс. Фронтед пока не делаем - его будем
прикручивать позже, на уроках по JS.

## Использование
### Подготовка к работе
Перед запуском веб-приложения необходимо установить необходимые библиотеки и восстановить базу данных.
Для этого требуется из корневого каталога проекта выполнить команды:

    pip install -r requirements.txt
	python manage.py migrate
	python manage.py loaddata data.json

### Запуск
В корневом каталоге проекта (где лежит manage.py) выполнить команду:

	python manage.py runserver

### Операции, доступные через API

Для всех запросов используются параметры:

**<хост>** – адрес узла, на котором запущено веб-приложение;

**<порт>** – номер порта, на котором запущено веб-приложение.

#### Регистрация пользователя

	POST http://<хост>:<порт>/educ_api/users/

В теле запроса передаётся JSON-объект с данными регистрируемого пользователя:

    {
        "username": <логин>,
        "email": <электронная_почта>,
        "password": <пароль>
    }
, где:

**<логин>** – имя пользователя, используемое при аутентификации;

**<электронная_почта>** – адрес электронной почты пользователя, необязательный параметр;

**<пароль>** – пароль пользователя.

При успешной регистрации пользователя в теле ответа возвращается JSON-объект с данными
зарегистрированного пользователя.

#### Аутентификация

	POST http://<хост>:<порт>/educ_api/auth/

В теле запроса передаётся JSON-объект с учётными данными:

    {
        "username": <логин>,
        "password": <пароль>
    }
, где:

**<логин>** – имя пользователя;

**<пароль>** – пароль пользователя.

В случае успешной аутентификации в теле ответа возвращается JSON-объект с токеном:

    {
        "token": "<токен>"
    }
, где **<токен>** – значение токена пользователя, которое будет использоваться для выполнения
последующих запросов.

#### Просмотр списка курсов

    GET http://<хост>:<порт>/educ_api/courses/

Операция доступна только зарегистрированным пользователям. В заголовке "Authorization"
запроса необходимо передать значение:

    token <токен>
    
, где **<токен>** – значение токена, полученное ранее при аутентификации (без кавычек).

В теле ответа возвращается массив JSON-объектов, содержащих информацию о доступных курсах
в сокращённом виде (id, название, описание).

#### Детальный просмотр курса

    GET http://<хост>:<порт>/educ_api/courses/<id>/

, где **< id >** – значение id выбранного курса.

Операция доступна только зарегистрированным пользователям. В заголовке "Authorization"
запроса необходимо передать значение:

    token <токен>
    
, где **<токен>** – значение токена, полученное ранее при аутентификации (без кавычек).

Если курс с заданным id существует, то в теле ответа возвращается JSON-объект, содержащий
детальную информацию о выбранном курсе (id, название, описание, список уроков,
список преподавателей).

#### Запись на курс

    PUT http://<хост>:<порт>/educ_api/signup/<id>/

или

    PATCH http://<хост>:<порт>/educ_api/signup/<id>/

, где **< id >** – значение id выбранного курса.

Операция доступна только зарегистрированным пользователям. В заголовке "Authorization"
запроса необходимо передать значение:

    token <токен>
    
, где **<токен>** – значение токена, полученное ранее при аутентификации (без кавычек).

Никаких данных в теле запроса передавать не требуется. Все данные, которые всё же будут
переданы, игнорируются.

В случае успешной записи на курс в теле ответа возвращается JSON-объект, содержащий
минимальную информацию о выбранном курсе (id и название).
 
 #### Просмотр списка своих курсов
 
    GET http://<хост>:<порт>/educ_api/mycourses/

Операция доступна только зарегистрированным пользователям. В заголовке "Authorization"
запроса необходимо передать значение:

    token <токен>
    
, где **<токен>** – значение токена, полученное ранее при аутентификации (без кавычек).

В теле ответа возвращается массив JSON-объектов, содержащих информацию о курсах, на которые
записан пользователь, в сокращённом виде (id, название, описание).
 